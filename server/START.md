# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd server
npm install
```

## –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
```bash
npm run dev
```

### –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
npm start
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

1. **–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —á–∞—Ç—ã:**
   ```bash
   curl http://localhost:8000/api/chats
   ```

2. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç:**
   ```bash
   curl -X POST http://localhost:8000/api/chats \
     -H "Content-Type: application/json" \
     -d '{"title": "–ú–æ–π –ø–µ—Ä–≤—ã–π —á–∞—Ç"}'
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:**
   ```bash
   curl -X POST http://localhost:8000/api/chats/{CHAT_ID}/messages \
     -H "Content-Type: application/json" \
     -d '{"author": "user", "body": "–ü—Ä–∏–≤–µ—Ç!", "context": []}'
   ```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WebSocket

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `http://localhost:8000` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
const ws = new WebSocket('ws://localhost:8000/ws');

ws.onopen = () => {
  console.log('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
  
  // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω–æ–≤—ã–π —á–∞—Ç
  ws.send(JSON.stringify({
    message: '–ü—Ä–∏–≤–µ—Ç, —Å–µ—Ä–≤–µ—Ä!',
    context: []
  }));
  
  // –ò–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–∞—Ç
  ws.send(JSON.stringify({
    message: '–í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ',
    chat_id: 'existing-chat-id',
    context: []
  }));
};

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log('–ü–æ–ª—É—á–µ–Ω–æ:', data);
};
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤

### REST API
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
- –ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤: 200 (OK), 201 (Created), 404 (Not Found), 500 (Server Error)

### WebSocket
- –°—Ç–∞—Ç—É—Å—ã: `connected`, `chat_created`, `processing`, `stream`, `answer`, `error`
- –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —á–∞–Ω–∫–∞–º–∏ –ø–æ 3 —Å–∏–º–≤–æ–ª–∞
- –≠—Ö–æ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "–≠—Ö–æ: {–≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ}"

## –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö

–ß–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `data/chats.json` (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

## –õ–æ–≥–∏

–°–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:
- üîå WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- üì® –í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è  
- üìÇ –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –û—à–∏–±–∫–∏
